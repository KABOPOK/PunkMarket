# Описание
## Наименование
Punk Market
## Предметная область
Создание платформы для студентов, позволяющей покупать, продавать и находить уникальные товары.

# Данные
## Для каждого элемента данных - ограничения
### 1. Таблица `users`

**Ограничения данных:**

- `user_id`:
    - Тип `UUID` с `PRIMARY KEY`, уникальный и не может быть `NULL`.
- `number`:
    - Тип `TEXT`, уникальный и обязательный (`NOT NULL`).
- `password`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `user_name`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `photo_url`, `location`, `telegram_id`:
    - Тип `TEXT`, могут быть `NULL`.

**Общие ограничения целостности:**

- Первичный ключ: `user_id`.
- Уникальность: `number` (никакие два пользователя не могут иметь одинаковый номер).

---

### 2. Таблица `products`

**Ограничения данных:**

- `product_id`:
    - Тип `UUID` с `PRIMARY KEY`, уникальный и не может быть `NULL`.
- `price`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `title`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `owner_name`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `photo_url`, `location`, `description`, `category`:
    - Тип `TEXT`, могут быть `NULL`.
- `user_id`:
    - Тип `UUID`, обязательный (`NOT NULL`).

**Общие ограничения целостности:**

- Первичный ключ: `product_id`.
- Внешний ключ:
    - `user_id` ссылается на `users(user_id)` с поведением `ON DELETE CASCADE` (при удалении пользователя удаляются его продукты).

---

### 3. Таблица `chats`

**Ограничения данных:**

- `chat_id`:
    - Тип `UUID` с `PRIMARY KEY`, уникальный и не может быть `NULL`.
- `other_name`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `other_photo_url`:
    - Тип `TEXT`, может быть `NULL`.
- `other_chat_id`:
    - Тип `UUID`, обязательный (`NOT NULL`).
- `user_id`:
    - Тип `UUID`, обязательный (`NOT NULL`).

**Общие ограничения целостности:**

- Первичный ключ: `chat_id`.
- Внешний ключ:
    - `user_id` ссылается на `users(user_id)` с поведением `ON DELETE CASCADE` (при удалении пользователя удаляются связанные чаты).

---

### 4. Таблица `messages`

**Ограничения данных:**

- `message_id`:
    - Тип `UUID` с `PRIMARY KEY`, уникальный и не может быть `NULL`.
- `text`:
    - Тип `TEXT`, обязательный (`NOT NULL`).
- `time`:
    - Тип `TIMESTAMP`, обязательный (`NOT NULL`).
- `chat_id`:
    - Тип `UUID`, обязательный (`NOT NULL`).
- `user_id`:
    - Тип `UUID`, обязательный (`NOT NULL`).

**Общие ограничения целостности:**

- Первичный ключ: `message_id`.
- Внешний ключи:
    - `user_id` ссылается на `users(user_id)` с поведением `ON DELETE CASCADE`.

---

### 5. Таблица `users_products`

**Ограничения данных:**

- `user_id` и `product_id`:
    - Оба поля обязательные (`NOT NULL`).
    - В комбинации составляют составной первичный ключ (`PRIMARY KEY`).

**Общие ограничения целостности:**

- Составной первичный ключ: комбинация `user_id`, `product_id`.
- Внешние ключи:
    - `user_id` ссылается на `users(user_id)` с поведением `ON DELETE CASCADE`.
    - `product_id` ссылается на `products(product_id)` с поведением `ON DELETE CASCADE`.

---
# Пользовательские роли
## Для каждой роли - наименование, ответственность, количество пользователей в этой роли?
**Роль:** продавец
	отвественность: создание товаров в таблице product,  удаление товаров из таблицы product
	 количество пользователей: 
**Роль:** покупатель
	отвественность: добавление товаров в вишлист, изъятие товаров из вишлиста
	 количество пользователей: 
# UI / API 
- **Frontend:** мобильное приложение (Android), реализованное на Dart с использованием мультиплатформенного фреймворка Flutter.
- **Backend:** серверная часть реализована на Java с использованием SpringBoot, веб сервер реализован с помощью tomcat, API документировано через Swagger, ORM - Hebirnate, оболчка над Hebirnate - SpringJpa.
# Технологии разработки
## Язык программирования
Java, Dart
## СУБД
PostgreSQL
# Тестирование
RestTemplate, JUnit5


